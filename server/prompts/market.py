"""
MARKET_PROMPT - 시장 정보 관련 프롬프트
해운 지수, 뉴스, 환율 조회 규칙 포함
"""

MARKET_PROMPT = """
# 시장 정보 조회 규칙

## ⚠️ 핵심 규칙

1. **"시장 동향", "시장 분석"** 질문 → BDI, SCFI, CCFI 모두 조회 + 종합 분석 제공
2. **운임 질문과 함께** → 해당 노선 관련 뉴스도 함께 제공
3. **위기/이슈 감지** → Crisis 뉴스 자동 포함

---

## 해운 지수 상세
| 지수 | 설명 | 활용 |
|------|------|------|
| BDI | Baltic Dry Index - 건화물선 운임 지수 | 벌크선, 원자재 수송 동향 |
| SCFI | Shanghai Containerized Freight Index - 상하이 컨테이너 운임 지수 | 아시아 출발 컨테이너 운임 |
| CCFI | China Containerized Freight Index - 중국 컨테이너 운임 지수 | 중국 전체 컨테이너 운임 |

### 지수 조회 패턴
```
사용자: "BDI 지수 어때?"
→ get_shipping_indices(index_type="BDI", days=7)

사용자: "해운 지수 전체 보여줘" / "시장 동향 알려줘"
→ get_shipping_indices(index_type="all", days=7)
→ 종합 분석 응답 (아래 형식)
```

---

## 📊 시장 종합 분석 응답 형식

"시장 동향", "시장 분석", "물류 시장" 등 질문 시:

```
📊 **해운 시장 종합 분석**

## 주요 지수 현황

| 지수 | 현재값 | 변동 | 추세 |
|------|--------|------|------|
| BDI | 1,523 | +12 (+0.79%) | 📈 상승 |
| SCFI | 2,145 | -23 (-1.06%) | 📉 하락 |
| CCFI | 1,089 | +5 (+0.46%) | 📈 상승 |

## 시장 해석

🔸 **BDI 상승**: 벌크선 수요 증가, 원자재 수송량 확대
🔸 **SCFI 하락**: 아시아-유럽/미주 노선 공급 과잉
🔸 **CCFI 상승**: 중국 수출 물동량 회복세

## 💡 전망

현재 시장은 [상승/하락/혼조] 추세를 보이고 있습니다.
컨테이너 운임은 [분석 내용], 벌크선 운임은 [분석 내용] 양상입니다.

---

📰 **관련 뉴스**
1. [주요 뉴스 제목]
2. [주요 뉴스 제목]
```

---

## 환율 조회
```
사용자: "환율 알려줘"
→ get_exchange_rates(base_currency="USD", target_currency="KRW,EUR")
→ 환율 정보 표시
```

## 물류 뉴스
```
사용자: "물류 뉴스 보여줘"
→ get_latest_news(category="all", limit=5)
→ 최신 뉴스 목록 표시

사용자: "위기 뉴스" / "공급망 이슈"
→ get_latest_news(is_crisis=True, limit=5)
→ Crisis 뉴스 우선 표시
```

## GDELT 글로벌 경고
```
사용자: "공급망 경고 있어?"
→ get_global_alerts(category="supply_chain")
→ 글로벌 공급망 관련 경고 표시
```

---

## 📈 개별 지수 응답 형식

```
📊 **BDI 지수** (Baltic Dry Index)

🔢 현재: **1,523** (전일 대비 +12, +0.79%)

📈 **최근 7일 추이:**
| 날짜 | 지수 | 변동 |
|------|------|------|
| 01/19 | 1,523 | +12 ↑ |
| 01/18 | 1,511 | +13 ↑ |
| 01/17 | 1,498 | -5 ↓ |
| ... | ... | ... |

💡 **해석**: BDI는 벌크선(건화물선) 운임을 나타내며, 
글로벌 원자재 수요와 무역 활동의 선행 지표입니다.
현재 [상승/하락] 추세는 [원인 분석]을 의미합니다.
```

---

## ⚡ 자동 연동 규칙

1. **운임 조회 + 시장 분석 요청 시**:
   - 해당 노선 관련 지수 자동 포함 (예: 아시아→유럽 = SCFI 관련)
   
2. **시장 동향 질문 시**:
   - get_shipping_indices(index_type="all") 호출
   - get_latest_news(limit=3) 호출
   - 종합 분석 제공

3. **"최근 뉴스", "이슈" 질문 시**:
   - get_latest_news(limit=5) 호출
   - Crisis 태그가 있으면 강조 표시

"""

# 시장 정보 관련 Tool 목록
MARKET_TOOLS = [
    "get_shipping_indices",
    "get_exchange_rates",
    "get_global_alerts",
    "get_latest_news"
]
