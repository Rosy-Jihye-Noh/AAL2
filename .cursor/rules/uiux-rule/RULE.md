---
description: "UI/UX 개발 작업 규칙 및 가이드라인"
globs: ["frontend/**/*.html", "frontend/**/*.css"]
alwaysApply: false
---

# UI/UX 개발 규칙

## 기본 원칙

1. **디자인 시스템 준수**
   - CSS 변수를 활용한 일관된 색상 시스템
   - 통화별 색상은 `:root`에 정의된 변수 사용

2. **반응형 디자인**
   - 모바일 퍼스트 접근 방식
   - `clamp()` 함수를 활용한 유연한 크기 조정

3. **접근성**
   - 시맨틱 HTML 태그 사용
   - 키보드 네비게이션 지원
   - 색상 대비 비율 준수 (WCAG 2.1 AA 기준)

## 작업 전 사전 검증

새로운 기능을 개발하기 전에 다음을 확인:

1. **통합 검증 스크립트 실행**
   ```bash
   python scripts/validate_integration.py
   ```
   - 에러가 있으면 먼저 수정
   - 경고 메시지 확인 및 필요 시 수정

2. **파일 참조 확인**
   - RULE.md에서 언급한 파일들이 실제로 존재하는지 확인
   - CSS 변수가 실제 코드에 정의되어 있는지 확인

3. **의존성 확인**
   - 프론트엔드 Agent와 협의가 필요한지 확인
   - 새로운 컴포넌트 추가 시 기존 스타일과 일관성 확인

4. **일관성 확인**
   - 기존 디자인 시스템과 일치하는지 확인
   - 색상 변수 네이밍이 일관된지 확인
   - 브레이크포인트가 일관된지 확인

## 색상 시스템

### 기본 색상
```css
--bg-color: #0b0b0d;        /* 배경색 (진한 검정) */
--text-main: #ffffff;       /* 메인 텍스트 (흰색) */
--text-sub: #949494;       /* 보조 텍스트 (회색) */
--accent-color: #3b82f6;   /* 강조 색상 (파란색) */
--card-bg: #141416;        /* 카드 배경 */
--border-color: rgba(255, 255, 255, 0.08); /* 테두리 */
```

### 통화별 색상
```css
--c-usd: #3b82f6;  /* Blue */
--c-eur: #22c55e;  /* Green */
--c-jpy: #ec4899;  /* Pink */
--c-cny: #eab308;  /* Yellow */
--c-gbp: #06b6d4;  /* Cyan */
--c-chf: #f59e0b;  /* Amber */
--c-hkd: #a855f7;  /* Purple */
--c-cad: #10b981;  /* Emerald */
--c-rub: #ef4444;  /* Red */
```

### 상태 색상
- 상승: 빨간색 (#ef4444) + ↑ 아이콘
- 하락: 초록색 (#22c55e) + ↓ 아이콘

## 타이포그래피

1. **폰트**
   - 메인 폰트: 'Inter', 'Pretendard', 시스템 폰트
   - 폰트 크기: `clamp()` 함수로 반응형 조정

2. **제목 계층**
   - h1: `clamp(3.5rem, 9vw, 8rem)` - Hero 섹션
   - h2: `clamp(2rem, 4vw, 3.5rem)` - 섹션 제목
   - 본문: `1rem` (기본)

## 레이아웃

1. **컨테이너**
   - 최대 너비: 1800px (기본), 2000px (1920px 이상 화면)
   - 패딩: 3% (기본), 2% (1920px 이상 화면)

2. **섹션 간격**
   - 섹션 패딩: `6rem 0`
   - 요소 간 간격: 일관된 spacing 시스템 사용

## 애니메이션

1. **전환 효과**
   - 기본 transition: `all 0.3s ease`
   - 부드러운 전환을 위한 cubic-bezier 사용

2. **스크롤 애니메이션**
   - `reveal` 클래스로 스크롤 시 페이드인 효과
   - `opacity`와 `transform` 조합

3. **호버 효과**
   - 버튼, 링크 등에 호버 시 색상/크기 변화
   - 부드러운 transition 적용

## 컴포넌트 규칙

### 버튼
- 기본: 테두리만 있는 스타일
- 활성: 배경색 채워진 스타일
- 호버: 테두리 색상 변화

### 카드
- 배경: `--card-bg`
- 테두리: `--border-color`
- 패딩: 적절한 여백

### 입력 필드
- 테두리 스타일 일관성
- 포커스 시 강조 색상
- 플레이스홀더 텍스트 명확성

## 차트 UI/UX

**중요**: 모든 차트는 `.cursor/rules/uiux-rule/CHART_STANDARD.md`의 표준을 따라야 합니다.

### 차트 표준 문서
자세한 차트 컴포넌트 표준은 다음 파일을 참조하세요:
- `.cursor/rules/uiux-rule/CHART_STANDARD.md` - 차트 컴포넌트 UI/UX 표준

### 주요 차트 표준 요약

1. **SVG 구조**
   - viewBox: `0 0 1200 400` (모든 차트 통일)
   - padding: `{ top: 20, bottom: 30, left: 40, right: 20 }`

2. **차트 타입 결정**
   - Line Chart: 데이터 포인트 2개 이상
   - Bar Chart: 데이터 포인트 1개 또는 2개 미만

3. **X축 라벨**
   - 연도별(A): 매년 1월, 4월, 7월, 10월만 표시
   - 월별(M): 매 2개월마다 표시
   - 분기별(Q): 모든 분기 표시
   - 라벨 형식: `YY.MM` 또는 `MM월` (상황에 따라)

4. **Y축 라벨**
   - 동적 범위 계산
   - 라벨 개수: 5-6개
   - 소수점 표시: `value.toFixed(1)`

5. **툴팁**
   - `position: fixed`로 viewport 기준 위치
   - 동적 위치 조정 (경계 체크)
   - 최대 너비: `min(340px, calc(100vw - 20px))`
   - 최대 높이: `70vh` (스크롤 가능)

6. **색상 시스템**
   - CSS 변수 사용 필수
   - 통화/항목별 고유 색상
   - 호버 시 강조 효과

## 반응형 브레이크포인트

1. **모바일** (< 768px)
   - 단일 컬럼 레이아웃
   - 폰트 크기 축소
   - 터치 친화적 버튼 크기

2. **태블릿** (768px - 1024px)
   - 2컬럼 레이아웃 가능
   - 적절한 간격 유지

3. **데스크톱** (> 1024px)
   - 최대 너비 1440px
   - 전체 기능 표시

## 성능 최적화

1. **렌더링 최적화**
   - `transform: translate3d`로 GPU 가속
   - `will-change` 속성 신중하게 사용

2. **애니메이션 최적화**
   - `transform`과 `opacity`만 애니메이션
   - 레이아웃 변경 최소화

3. **이미지 최적화**
   - 적절한 포맷 사용 (WebP 등)
   - Lazy loading 적용

## 접근성 체크리스트

- [ ] 모든 이미지에 alt 텍스트
- [ ] 키보드로 모든 기능 접근 가능
- [ ] 색상 대비 비율 4.5:1 이상
- [ ] 포커스 인디케이터 명확
- [ ] 스크린 리더 지원

## 개발 후 검증 프로세스

### 1. 디자인 일관성 검증

#### 색상 시스템 검증
- [ ] CSS 변수 사용 확인
  - 모든 색상이 `:root` 변수로 정의되어 있는지 확인
  - 새로운 제품 추가 시 색상 변수 추가 확인
  - 색상 변수명이 일관된 네이밍 컨벤션을 따르는지 확인
- [ ] 색상 대비 확인
  - 텍스트와 배경의 대비 비율이 4.5:1 이상인지 확인
  - WCAG 2.1 AA 기준 준수 확인
  - 색맹 친화적 팔레트 사용 확인

#### 타이포그래피 검증
- [ ] 폰트 일관성 확인
  - 모든 텍스트가 정의된 폰트 스택을 사용하는지 확인
  - 폰트 크기가 `clamp()` 함수로 반응형인지 확인
  - 제목 계층이 올바르게 적용되었는지 확인

#### 레이아웃 일관성 검증
- [ ] 컨테이너 너비 확인
  - 최대 너비 1440px 준수
  - 좌우 패딩 5% 적용
- [ ] 섹션 간격 확인
  - 섹션 패딩 `6rem 0` 적용
  - 요소 간 일관된 spacing 사용

### 2. 반응형 디자인 검증

#### 브레이크포인트별 테스트
- [ ] 모바일 (< 768px)
  - 단일 컬럼 레이아웃 확인
  - 폰트 크기 축소 확인
  - 터치 친화적 버튼 크기 (최소 44px) 확인
  - 필터 섹션 접기/펼치기 동작 확인
- [ ] 태블릿 (768px - 1024px)
  - 2컬럼 레이아웃 가능 확인
  - 적절한 간격 유지 확인
- [ ] 데스크톱 (> 1024px)
  - 최대 너비 1440px 확인
  - 전체 기능 표시 확인

#### 실제 디바이스 테스트
- [ ] 모바일 디바이스에서 테스트
  - iOS (iPhone)
  - Android (다양한 화면 크기)
- [ ] 태블릿 디바이스에서 테스트
  - iPad
  - Android 태블릿

### 3. 컴포넌트 검증

#### 버튼 검증
- [ ] 기본/활성/호버 상태 확인
  - 기본: 테두리만 있는 스타일
  - 활성: 배경색 채워진 스타일
  - 호버: 테두리 색상 변화
- [ ] 전환 애니메이션 확인
  - 부드러운 transition 적용 (0.3s ease)

#### 입력 필드 검증
- [ ] 테두리 스타일 일관성 확인
- [ ] 포커스 시 강조 색상 확인
- [ ] 플레이스홀더 텍스트 명확성 확인

#### 차트 컴포넌트 검증
- [ ] 툴팁 위치 확인
  - `position: fixed` 사용 확인
  - 화면 경계를 벗어나지 않는지 확인
  - 최대 너비/높이 제한 확인
- [ ] X축/Y축 레이블 가독성 확인
  - 레이블이 겹치지 않는지 확인
  - 회전/간격이 적절한지 확인

### 4. 애니메이션 검증

#### 전환 효과 검증
- [ ] CSS transition 확인
  - 기본 transition: `all 0.3s ease`
  - 부드러운 전환 확인
- [ ] 스크롤 애니메이션 확인
  - `reveal` 클래스 동작 확인
  - 페이드인 효과 확인
- [ ] 호버 효과 확인
  - 버튼, 링크 호버 시 색상/크기 변화 확인
  - 부드러운 transition 확인

#### 성능 검증
- [ ] 애니메이션 성능 확인
  - `transform`과 `opacity`만 애니메이션하는지 확인
  - 레이아웃 변경 최소화 확인
  - GPU 가속 활용 확인 (`transform: translate3d`)

### 5. 접근성 검증

#### 키보드 네비게이션
- [ ] 모든 인터랙티브 요소가 키보드로 접근 가능한지 확인
  - Tab 키로 포커스 이동 확인
  - Enter/Space 키로 활성화 확인
- [ ] 포커스 인디케이터 확인
  - 포커스 상태가 명확하게 표시되는지 확인
  - 포커스 순서가 논리적인지 확인

#### 스크린 리더 지원
- [ ] 시맨틱 HTML 태그 사용 확인
  - `<button>`, `<nav>`, `<main>` 등 적절한 태그 사용
- [ ] ARIA 속성 확인 (필요 시)
  - `aria-label`, `aria-describedby` 등

#### 색상 대비
- [ ] 색상 대비 비율 확인
  - 텍스트와 배경: 4.5:1 이상
  - 대형 텍스트: 3:1 이상
  - 도구 사용: 온라인 대비 체크러 사용

### 6. 성능 검증

#### 렌더링 성능
- [ ] 브라우저 개발자 도구 → Performance 탭
  - 페이지 로드 시간 확인
  - First Contentful Paint (FCP) 확인
  - Largest Contentful Paint (LCP) 확인
- [ ] 렌더링 최적화 확인
  - `transform: translate3d` 사용 확인
  - `will-change` 속성 신중하게 사용 확인

#### 애니메이션 성능
- [ ] 60fps 유지 확인
  - Chrome DevTools → Performance → FPS 확인
  - 애니메이션이 부드럽게 동작하는지 확인

### 7. 브라우저 호환성 검증

- [ ] 주요 브라우저에서 테스트
  - Chrome/Edge (최신 버전)
  - Firefox (최신 버전)
  - Safari (최신 버전)
- [ ] CSS 기능 호환성 확인
  - `clamp()` 함수 지원 확인
  - CSS 변수 지원 확인
  - Grid/Flexbox 지원 확인

### 검증 체크리스트 요약

작업 완료 후 다음 항목을 모두 확인:

```
□ 디자인 일관성이 유지되는가?
□ 반응형 디자인이 모든 브레이크포인트에서 동작하는가?
□ 컴포넌트가 일관된 스타일을 따르는가?
□ 애니메이션이 부드럽게 동작하는가?
□ 접근성 기준을 만족하는가?
□ 성능 문제가 없는가?
□ 브라우저 호환성 문제가 없는가?
```

### 문제 발견 시 조치

1. **디자인 일관성 문제**: CSS 변수 및 스타일 가이드 확인
2. **반응형 문제**: 브레이크포인트별 미디어 쿼리 확인
3. **접근성 문제**: WCAG 가이드라인 참고하여 수정
4. **성능 문제**: 렌더링 최적화, 애니메이션 최적화
5. **브라우저 호환성**: 폴리필 추가 또는 대체 구현

## 참고 파일

- `@frontend/ai_studio_code_F2.html` - 메인 프론트엔드 파일

